<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¹˜ì  ê³„ì‚°ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .main-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 36px;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .calculator {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .calculator-title {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
            font-weight: bold;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .section {
            margin-bottom: 25px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        .section-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-row {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 12px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: bold;
            font-size: 14px;
            flex: 1;
            min-width: 180px;
        }

        input[type="number"] {
            flex: 1;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
            max-width: 150px;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
        }

        select {
            flex: 1;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            max-width: 200px;
            cursor: pointer;
        }

        select:focus {
            outline: none;
            border-color: #667eea;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }

        .checkbox-group label {
            margin-bottom: 0;
            margin-left: 8px;
            cursor: pointer;
            font-size: 14px;
        }

        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .results {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            padding: 30px;
            color: white;
            text-align: center;
        }

        .result-main {
            font-size: 18px;
            margin-bottom: 10px;
        }

        .result-value {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .result-sub {
            font-size: 16px;
            opacity: 0.9;
        }

        .info {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            font-size: 14px;
            color: #856404;
            line-height: 1.6;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 768px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="header">
            <h1>ì¹˜ì  ê³„ì‚°ê¸°</h1>
            <p>ì •ë³´ì°½ í‘œê¸° ê¸°ì¤€ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
        </div>

        <div class="calculator">
            <h2 class="calculator-title">ì¹˜ì  ê³„ì‚°ê¸°</h2>
            <p class="subtitle">ëª©í‘œ ì¹˜ëª…íƒ€ í™•ë¥  ë‹¬ì„±ì— í•„ìš”í•œ ì¹˜ëª… ìŠ¤íƒ¯ ê³„ì‚°</p>

            <!-- ëª©í‘œ ì¹˜ì  ì„¤ì • -->
            <div class="section">
                <div class="section-title">ğŸ¯ ëª©í‘œ ì¹˜ì  ì„¤ì •</div>
                <div class="checkbox-group">
                    <input type="checkbox" id="targetMunga1" onchange="calculate()">
                    <label for="targetMunga1">ë­‰ê°€ 1Lv (115.42%)</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="targetMunga2" onchange="calculate()">
                    <label for="targetMunga2">ë­‰ê°€ 2Lv (119.28%)</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="targetInputa" onchange="calculate()">
                    <label for="targetInputa">ì…íƒ€ (100.00%)</label>
                </div>
            </div>

            <!-- ê¸°ë³¸ ë²„í”„ -->
            <div class="section">
                <div class="section-title">ğŸ’ª ê¸°ë³¸ ë²„í”„</div>
                <div class="input-row">
                    <label for="jobCrit">ì§ì—… ê°ì¸ ì¹˜ì %</label>
                    <input type="number" id="jobCrit" value="12" min="0" step="0.1" onchange="calculate()">
                    <span>%</span>
                </div>
                <div class="input-row">
                    <label for="skillCrit">ìŠ¤í‚¬ ì¹˜ì % íŠ¸í¬</label>
                    <input type="number" id="skillCrit" value="0" min="0" step="0.1" onchange="calculate()">
                    <span>%</span>
                </div>
                <div class="input-row">
                    <label for="synergyCrit">ì¹˜ì % ì‹œë„ˆì§€</label>
                    <select id="synergyCrit" onchange="calculate()">
                        <option value="0">ì—†ìŒ</option>
                        <option value="10" selected>1ì‹œë„ˆì§€ (10%)</option>
                        <option value="20">2ì‹œë„ˆì§€ (20%)</option>
                        <option value="30">3ì‹œë„ˆì§€ (30%)</option>
                    </select>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="backAttack" checked onchange="calculate()">
                    <label for="backAttack">ë°±ì–´íƒ (10%)</label>
                </div>
                <div class="input-row">
                    <label for="braceletCrit">íŒ”ì°Œ ì¹˜ì % (ìŠ¤íƒ¯ ê¸°ì…X)</label>
                    <input type="number" id="braceletCrit" value="0" min="0" step="0.1" onchange="calculate()">
                    <span>%</span>
                </div>
            </div>

            <!-- ê°ì¸ ë° ì¥ë¹„ -->
            <div class="section">
                <div class="section-title">ğŸ“¿ ê°ì¸ ë° ì¥ë¹„</div>
                <div class="grid-2">
                    <div class="input-row">
                        <label for="ring1">ë°˜ì§€ ì—°ë§ˆ 1</label>
                        <select id="ring1" onchange="calculate()">
                            <option value="0">ì—†ìŒ</option>
                            <option value="1.55">ìƒ (1.55%)</option>
                            <option value="0.95">ì¤‘ (0.95%)</option>
                            <option value="0.4">í•˜ (0.4%)</option>
                        </select>
                    </div>
                    <div class="input-row">
                        <label for="ring2">ë°˜ì§€ ì—°ë§ˆ 2</label>
                        <select id="ring2" onchange="calculate()">
                            <option value="0">ì—†ìŒ</option>
                            <option value="1.55">ìƒ (1.55%)</option>
                            <option value="0.95">ì¤‘ (0.95%)</option>
                            <option value="0.4">í•˜ (0.4%)</option>
                        </select>
                    </div>
                </div>
                <div class="input-row">
                    <label for="weakPoint">ì•½ì  ë…¸ì¶œ% (ì„œí¿)</label>
                    <input type="number" id="weakPoint" value="0" min="0" step="0.1" onchange="calculate()">
                    <span>%</span>
                </div>
            </div>

            <!-- ê°ì¸ -->
            <div class="section">
                <div class="section-title">âœ¨ ê°ì¸ ë° ì—˜ë¦­ì„œ</div>
                <div class="input-row">
                    <label for="adrenaline">ì•„ë“œë ˆë‚ ë¦° ê°ì¸ì„œ</label>
                    <select id="adrenaline" onchange="calculate()">
                        <option value="0">ì—†ìŒ</option>
                        <option value="14">ì „ì„¤ (14%)</option>
                        <option value="15.5">ìœ ë¬¼ 1ì¹¸ (15.5%)</option>
                        <option value="17">ìœ ë¬¼ 2ì¹¸ (17%)</option>
                        <option value="18.5">ìœ ë¬¼ 3ì¹¸ (18.5%)</option>
                        <option value="20">ìœ ë¬¼ 4ì¹¸ (20%)</option>
                    </select>
                </div>
                <div class="input-row">
                    <label for="precision">ì •ë°€ ë‹¨ë„ ê°ì¸ì„œ</label>
                    <select id="precision" onchange="calculate()">
                        <option value="0">ì—†ìŒ</option>
                        <option value="18">ì „ì„¤ (18%)</option>
                        <option value="18.75">ìœ ë¬¼ 1ì¹¸ (18.75%)</option>
                        <option value="19.5">ìœ ë¬¼ 2ì¹¸ (19.5%)</option>
                        <option value="20.25">ìœ ë¬¼ 3ì¹¸ (20.25%)</option>
                        <option value="21">ìœ ë¬¼ 4ì¹¸ (21%)</option>
                    </select>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="masterElixir" onchange="calculate()">
                    <label for="masterElixir">ë‹¬ì¸ ì—˜ë¦­ì„œ (7%)</label>
                </div>
            </div>

            <!-- ì§„í™” ë…¸ë“œ -->
            <div class="section">
                <div class="section-title">ğŸŒŸ ì§„í™” ë…¸ë“œ</div>
                <div class="input-row">
                    <label for="tier2Node">2í‹°ì–´ ì§„í™” ë…¸ë“œ</label>
                    <select id="tier2Node" onchange="calculate()">
                        <option value="0">ì—†ìŒ</option>
                        <option value="4">ì˜ˆë¦¬í•œ ê°ê° 1Lv (4%)</option>
                        <option value="8" selected>ì˜ˆë¦¬í•œ ê°ê° 2Lv (8%)</option>
                    </select>
                </div>
                <div class="input-row">
                    <label for="tier3Node">3í‹°ì–´ ì§„í™” ë…¸ë“œ</label>
                    <select id="tier3Node" onchange="calculate()">
                        <option value="0">ì—†ìŒ</option>
                        <option value="12">í˜¼ì‹ ì˜ ê°•íƒ€ 1Lv (12%)</option>
                        <option value="24" selected>í˜¼ì‹ ì˜ ê°•íƒ€ 2Lv (24%)</option>
                        <option value="10">ì¼ê²© 1Lv (10%)</option>
                        <option value="20">ì¼ê²© 2Lv (20%)</option>
                    </select>
                </div>
            </div>

            <!-- ê²°ê³¼ -->
            <div class="results">
                <div class="result-main">ëª©í‘œ ë‹¬ì„±ì„ ìœ„í•œ ì ì • ì¹˜ëª… ìŠ¤íƒ¯</div>
                <div class="result-value" id="requiredCrit">1,046</div>
                <div class="result-sub" id="currentRate">í˜„ì¬ ì¹˜ëª…íƒ€ í™•ë¥ : 78.00%</div>
            </div>

            <div class="info" style="margin-top: 20px;">
                <strong>ğŸ“Œ ì‚¬ìš© ë°©ë²•</strong><br>
                â€¢ ëª©í‘œ ì¹˜ì (ë­‰ê°€/ì…íƒ€)ì„ ì„ íƒí•˜ë©´ í•„ìš”í•œ ì¹˜ëª… ìŠ¤íƒ¯ì´ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤<br>
                â€¢ ì¹˜ëª… 1ë‹¹ = 0.0379% ì¹˜ëª…íƒ€ í™•ë¥ <br>
                â€¢ ë°±ì–´íƒ ì§ì—…ì€ ë°±ì–´íƒ ì²´í¬
            </div> 
        </div>
    </div>

    <script>
        // ì¹˜ì  ê³„ì‚°ê¸°
        function calculate() {
            // ëª©í‘œ ì¹˜ì  í™•ì¸
            let targetCritRate = 0;
            if (document.getElementById('targetMunga1').checked) {
                targetCritRate = 115.42;
            } else if (document.getElementById('targetMunga2').checked) {
                targetCritRate = 119.28;
            } else if (document.getElementById('targetInputa').checked) {
                targetCritRate = 100.00;
            }

            // ë²„í”„ í•©ì‚°
            let totalBuffCrit = 0;
            
            // ê¸°ë³¸ ë²„í”„
            totalBuffCrit += parseFloat(document.getElementById('jobCrit').value) || 0;
            totalBuffCrit += parseFloat(document.getElementById('skillCrit').value) || 0;
            totalBuffCrit += parseFloat(document.getElementById('synergyCrit').value) || 0;
            totalBuffCrit += document.getElementById('backAttack').checked ? 10 : 0;
            totalBuffCrit += parseFloat(document.getElementById('braceletCrit').value) || 0;

            // ì¥ë¹„
            totalBuffCrit += parseFloat(document.getElementById('ring1').value) || 0;
            totalBuffCrit += parseFloat(document.getElementById('ring2').value) || 0;
            totalBuffCrit += parseFloat(document.getElementById('weakPoint').value) || 0;

            // ê°ì¸
            totalBuffCrit += parseFloat(document.getElementById('adrenaline').value) || 0;
            totalBuffCrit += parseFloat(document.getElementById('precision').value) || 0;
            totalBuffCrit += document.getElementById('masterElixir').checked ? 7 : 0;

            // ì§„í™” ë…¸ë“œ
            totalBuffCrit += parseFloat(document.getElementById('tier2Node').value) || 0;
            totalBuffCrit += parseFloat(document.getElementById('tier3Node').value) || 0;

            // í•„ìš”í•œ ìŠ¤íƒ¯ ì¹˜ëª… ê³„ì‚°
            let requiredStatCrit = 0;
            if (targetCritRate > 0) {
                requiredStatCrit = Math.ceil((targetCritRate - totalBuffCrit) / 0.0379);
                if (requiredStatCrit < 0) requiredStatCrit = 0;
            }

            // í˜„ì¬ ì¹˜ëª…íƒ€ í™•ë¥ 
            const currentCritRate = totalBuffCrit + (requiredStatCrit * 0.0379);

            // ê²°ê³¼ í‘œì‹œ
            document.getElementById('requiredCrit').textContent = requiredStatCrit.toLocaleString();
            document.getElementById('currentRate').textContent = 
                `í˜„ì¬ ì¹˜ëª…íƒ€ í™•ë¥ : ${currentCritRate.toFixed(2)}% (ë²„í”„: ${totalBuffCrit.toFixed(2)}% + ìŠ¤íƒ¯: ${(requiredStatCrit * 0.0379).toFixed(2)}%)`;
        }

        // ì´ˆê¸° ê³„ì‚°
        calculate();
    </script>
</body>
</html>
    </script>
</body>
</html>
